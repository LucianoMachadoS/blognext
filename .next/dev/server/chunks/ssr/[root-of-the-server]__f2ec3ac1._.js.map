{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gabrs/OneDrive/%C3%81rea%20de%20Trabalho/blog-next/src/app/config/app-config.ts"],"sourcesContent":["export const API_URL = 'http://localhost:1337';\r\nexport const ALL_POST_URL = `${API_URL}/api/posts?populate=*`;\r\n\r\nexport const SITE_NAME = 'Luciano Machado';\r\nexport const SITE_URL = '';\r\nexport const PAGE_SIZE = 10;\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAAO,MAAM,UAAU;AAChB,MAAM,eAAe,GAAG,QAAQ,qBAAqB,CAAC;AAEtD,MAAM,YAAY;AAClB,MAAM,WAAW;AACjB,MAAM,YAAY"}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gabrs/OneDrive/%C3%81rea%20de%20Trabalho/blog-next/src/app/data/posts/fetch-helper.ts"],"sourcesContent":["import { API_URL } from '@/app/config/app-config';\r\nimport qs from 'qs';\r\n\r\nexport function getStrapiURL(path = '') {\r\n  return `${API_URL}${path}`;\r\n}\r\n\r\nexport async function fetchAPI(\r\n  path: string,\r\n  urlParamsObject = {},\r\n  options = {},\r\n) {\r\n  try {\r\n    // 1. Transforma o objeto JSON na string de query do Strapi\r\n    const queryString = qs.stringify(urlParamsObject, {\r\n      encodeValuesOnly: true, // Deixa a URL mais limpa\r\n    });\r\n\r\n    // 2. Monta a URL completa: /api/posts?populate=*&...\r\n    const requestUrl = getStrapiURL(\r\n      `/api${path}${queryString ? `?${queryString}` : ''}`,\r\n    );\r\n\r\n    // 3. Faz o fetch nativo\r\n    const response = await fetch(requestUrl, {\r\n      ...options,\r\n    });\r\n\r\n    const data = await response.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error(error);\r\n    throw new Error(`Please check if Strapi is running.`);\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,SAAS,aAAa,OAAO,EAAE;IACpC,OAAO,GAAG,gJAAO,GAAG,MAAM;AAC5B;AAEO,eAAe,SACpB,IAAY,EACZ,kBAAkB,CAAC,CAAC,EACpB,UAAU,CAAC,CAAC;IAEZ,IAAI;QACF,2DAA2D;QAC3D,MAAM,cAAc,6IAAE,CAAC,SAAS,CAAC,iBAAiB;YAChD,kBAAkB;QACpB;QAEA,qDAAqD;QACrD,MAAM,aAAa,aACjB,CAAC,IAAI,EAAE,OAAO,cAAc,CAAC,CAAC,EAAE,aAAa,GAAG,IAAI;QAGtD,wBAAwB;QACxB,MAAM,WAAW,MAAM,MAAM,YAAY;YACvC,GAAG,OAAO;QACZ;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC;QACd,MAAM,IAAI,MAAM,CAAC,kCAAkC,CAAC;IACtD;AACF"}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gabrs/OneDrive/%C3%81rea%20de%20Trabalho/blog-next/src/app/data/posts/count-all-posts.ts"],"sourcesContent":["import { fetchAPI } from './fetch-helper';\r\n\r\nexport const countAllPosts = async (): Promise<number> => {\r\n  const urlParams = {\r\n    pagination: {\r\n      pageSize: 1,\r\n    },\r\n    fields: ['id'],\r\n  };\r\n\r\n  try {\r\n    const json = await fetchAPI('/posts', urlParams);\r\n    return json.meta.pagination.total;\r\n  } catch (e) {\r\n    return 0;\r\n  }\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,gBAAgB;IAC3B,MAAM,YAAY;QAChB,YAAY;YACV,UAAU;QACZ;QACA,QAAQ;YAAC;SAAK;IAChB;IAEA,IAAI;QACF,MAAM,OAAO,MAAM,IAAA,0JAAQ,EAAC,UAAU;QACtC,OAAO,KAAK,IAAI,CAAC,UAAU,CAAC,KAAK;IACnC,EAAE,OAAO,GAAG;QACV,OAAO;IACT;AACF"}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gabrs/OneDrive/%C3%81rea%20de%20Trabalho/blog-next/src/app/data/posts/get-post-by-slug.ts"],"sourcesContent":["import { PostData } from '@/app/domain/posts/post';\r\nimport { fetchAPI } from './fetch-helper';\r\n\r\n// Recebe o slug (string) e retorna UM post ou null\r\nexport const getPostBySlug = async (slug: string): Promise<PostData | null> => {\r\n  const urlParams = {\r\n    // üëá AQUI EST√Å O SEGREDO: FILTRO\r\n    filters: {\r\n      slug: {\r\n        $eq: slug, // $eq significa \"Equal\" (Igual)\r\n      },\r\n    },\r\n    // Precisamos popular para pegar imagem e texto\r\n    populate: {\r\n      cover: { fields: ['url', 'alternativeText', 'width', 'height'] },\r\n      category: { populate: true },\r\n      author: true,\r\n    },\r\n  };\r\n\r\n  const json = await fetchAPI('/posts', urlParams);\r\n\r\n  // O Strapi sempre retorna um array quando usamos filters.\r\n  // Se o array tiver itens, pegamos o primeiro ([0]). Sen√£o, retornamos null.\r\n  const posts = json.data;\r\n\r\n  return posts.length > 0 ? posts[0] : null;\r\n};\r\n"],"names":[],"mappings":";;;;AACA;;AAGO,MAAM,gBAAgB,OAAO;IAClC,MAAM,YAAY;QAChB,iCAAiC;QACjC,SAAS;YACP,MAAM;gBACJ,KAAK;YACP;QACF;QACA,+CAA+C;QAC/C,UAAU;YACR,OAAO;gBAAE,QAAQ;oBAAC;oBAAO;oBAAmB;oBAAS;iBAAS;YAAC;YAC/D,UAAU;gBAAE,UAAU;YAAK;YAC3B,QAAQ;QACV;IACF;IAEA,MAAM,OAAO,MAAM,IAAA,0JAAQ,EAAC,UAAU;IAEtC,0DAA0D;IAC1D,4EAA4E;IAC5E,MAAM,QAAQ,KAAK,IAAI;IAEvB,OAAO,MAAM,MAAM,GAAG,IAAI,KAAK,CAAC,EAAE,GAAG;AACvC"}},
    {"offset": {"line": 137, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gabrs/OneDrive/%C3%81rea%20de%20Trabalho/blog-next/src/app/post/%5Bslug%5D/page.tsx"],"sourcesContent":["import { PAGE_SIZE } from '@/app/config/app-config';\r\nimport { countAllPosts } from '@/app/data/posts/count-all-posts';\r\nimport { getPostBySlug } from '@/app/data/posts/get-post-by-slug';\r\nimport Image from 'next/image';\r\nimport { notFound } from 'next/navigation';\r\n\r\ntype Props = {\r\n  params: { slug: string };\r\n};\r\n\r\nexport default async function PostPage({ params }: Props) {\r\n  // 1. Busca o post pelo slug da URL\r\n  const post = await getPostBySlug(params.slug);\r\n\r\n  // 2. Se n√£o achou nada, manda para p√°gina 404\r\n  if (!post) {\r\n    notFound();\r\n  }\r\n\r\n  // 3. Renderiza o Post\r\n  return (\r\n    <main>\r\n      <h1>{post.title}</h1>\r\n\r\n      {post.cover?.url && (\r\n        <Image src={post.cover.url} width={800} height={400} alt={post.title} />\r\n      )}\r\n      <article>{post.content}</article>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport async function generateStaticParams() {\r\n  // 1. Pega o total absoluto\r\n  const totalPosts = await countAllPosts();\r\n  // 2. Define quantos posts voc√™ quer mostrar por p√°gina\r\n  const postsPerPage = PAGE_SIZE;\r\n  // 3. Calcula o n√∫mero de p√°ginas\r\n  const totalPages = Math.ceil(totalPosts / postsPerPage);\r\n  // 4. Se n√£o tiver posts, retorna vazio para n√£o dar erro\r\n  if (totalPages === 0) return [];\r\n  // 5. Cria o array de caminhos: [{ pageNumber: '1' }, { pageNumber: '2' }...]\r\n  const paths = Array.from({ length: totalPages }, (_, i) => ({\r\n    pageNumber: String(i + 1),\r\n  }));\r\n\r\n  return paths;\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;;;;;;;AAMe,eAAe,SAAS,EAAE,MAAM,EAAS;IACtD,mCAAmC;IACnC,MAAM,OAAO,MAAM,IAAA,yKAAa,EAAC,OAAO,IAAI;IAE5C,8CAA8C;IAC9C,IAAI,CAAC,MAAM;QACT,IAAA,iMAAQ;IACV;IAEA,sBAAsB;IACtB,qBACE,8OAAC;;0BACC,8OAAC;0BAAI,KAAK,KAAK;;;;;;YAEd,KAAK,KAAK,EAAE,qBACX,8OAAC,wIAAK;gBAAC,KAAK,KAAK,KAAK,CAAC,GAAG;gBAAE,OAAO;gBAAK,QAAQ;gBAAK,KAAK,KAAK,KAAK;;;;;;0BAEtE,8OAAC;0BAAS,KAAK,OAAO;;;;;;;;;;;;AAG5B;AAEO,eAAe;IACpB,2BAA2B;IAC3B,MAAM,aAAa,MAAM,IAAA,qKAAa;IACtC,uDAAuD;IACvD,MAAM,eAAe,kJAAS;IAC9B,iCAAiC;IACjC,MAAM,aAAa,KAAK,IAAI,CAAC,aAAa;IAC1C,yDAAyD;IACzD,IAAI,eAAe,GAAG,OAAO,EAAE;IAC/B,6EAA6E;IAC7E,MAAM,QAAQ,MAAM,IAAI,CAAC;QAAE,QAAQ;IAAW,GAAG,CAAC,GAAG,IAAM,CAAC;YAC1D,YAAY,OAAO,IAAI;QACzB,CAAC;IAED,OAAO;AACT"}}]
}