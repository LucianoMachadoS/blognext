{"version":3,"sources":["../../../../node_modules/%40swc/helpers/cjs/_interop_require_default.cjs","turbopack:///[project]/src/app/containers/HomePage/home.module.css [app-rsc] (css module)","turbopack:///[project]/src/app/components/PostCard/postCard.module.css [app-rsc] (css module)","turbopack:///[project]/src/app/components/Pagination/pagination.module.css [app-rsc] (css module)","../../../../src/app/containers/HomePage/index.tsx","../../../../src/app/components/PostCard/index.tsx","../../../../src/app/components/Pagination/index.tsx","../../../../src/app/data/posts/get-all-posts.ts","../../../../src/app/page.tsx"],"sourcesContent":["\"use strict\";\n\nfunction _interop_require_default(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\nexports._ = _interop_require_default;\n","__turbopack_context__.v({\n  \"container\": \"home-module__ElHk5q__container\",\n  \"headingCategory\": \"home-module__ElHk5q__headingCategory\",\n});\n","__turbopack_context__.v({\n  \"PostCardHeading\": \"postCard-module__ykOlBa__PostCardHeading\",\n  \"postCard\": \"postCard-module__ykOlBa__postCard\",\n  \"postCardCover\": \"postCard-module__ykOlBa__postCardCover\",\n});\n","__turbopack_context__.v({\n  \"info\": \"pagination-module__TS_Q2G__info\",\n  \"pagination\": \"pagination-module__TS_Q2G__pagination\",\n});\n","import { PostData } from '@/app/domain/posts/post';\r\nimport styles from './home.module.css';\r\nimport Header from '../../components/Header';\r\nimport { MainContainer } from '@/app/components/MainContainer';\r\nimport { PostCard } from '@/app/components/PostCard';\r\nimport Footer from '@/app/components/Footer';\r\nimport { Heading } from '@/app/components/Heading';\r\nimport Pagination from '@/app/components/Pagination';\r\n\r\nexport type PaginationData = {\r\n  page: number;\r\n  pageCount: number;\r\n  basePath?: string;\r\n};\r\n\r\nexport type HomePageProps = {\r\n  posts: PostData[];\r\n  category?: string;\r\n  pagination?: PaginationData;\r\n};\r\n\r\nexport default function HomePage({\r\n  posts,\r\n  category,\r\n  pagination,\r\n}: HomePageProps) {\r\n  return (\r\n    <>\r\n      <Header />\r\n      {category && (\r\n        <Heading>\r\n          <div className={styles.headingCategory}>\r\n            Categoria: <span>{category}</span>\r\n          </div>\r\n        </Heading>\r\n      )}\r\n      <MainContainer>\r\n        <div className={styles.container}>\r\n          {posts.map((post: PostData) => (\r\n            <PostCard\r\n              key={post.slug}\r\n              cover={post.cover?.formats?.small?.url || post.cover.url}\r\n              slug={post.slug}\r\n              title={post.title}\r\n              width={post.cover?.formats?.small?.width || 500}\r\n            />\r\n          ))}\r\n        </div>\r\n        {pagination && (\r\n          <Pagination\r\n            page={pagination.page}\r\n            pageCount={pagination.pageCount}\r\n            basePath={pagination.basePath}\r\n          />\r\n        )}\r\n      </MainContainer>\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n","import Link from 'next/link';\r\nimport styles from './postCard.module.css';\r\nimport Image from 'next/image';\r\n\r\nexport type PostCardProps = {\r\n  slug: string;\r\n  title: string;\r\n  cover: string;\r\n  width: number;\r\n};\r\n\r\nexport const PostCard = ({ slug, title, cover, width }: PostCardProps) => {\r\n  return (\r\n    <div className={styles.postCard}>\r\n      <div className={styles.postCardCover}>\r\n        <Link href={`/post/${slug}`}>\r\n          <Image src={cover} alt={title} width={width} height={300} />\r\n        </Link>\r\n      </div>\r\n      <div className={styles.postCardHeading}>\r\n        <Link href={`/post/${slug}`}>{title}</Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import Link from 'next/link';\r\nimport styles from './pagination.module.css';\r\n\r\nexport type PaginationProps = {\r\n  page: number;\r\n  pageCount: number;\r\n  basePath?: string;\r\n};\r\n\r\nexport default function Pagination({\r\n  page,\r\n  pageCount,\r\n  basePath = '',\r\n}: PaginationProps) {\r\n  const hasNextPage = page < pageCount;\r\n  const hasPrevPage = page > 1;\r\n\r\n  const getPageLink = (pageNumber: number) => {\r\n    if (pageNumber === 1) {\r\n      return `${basePath}/`;\r\n    }\r\n    return `${basePath}/page/${pageNumber}`;\r\n  };\r\n\r\n  return (\r\n    <div className={styles.pagination}>\r\n      {hasPrevPage && (\r\n        <Link href={getPageLink(page - 1)} className={styles.buttonPrev}>\r\n          Anterior\r\n        </Link>\r\n      )}\r\n\r\n      <span className={styles.info}>\r\n        Página {page} de {pageCount}\r\n      </span>\r\n\r\n      {hasNextPage && (\r\n        <Link href={getPageLink(page + 1)} className={styles.buttonNext}>\r\n          Próxima\r\n        </Link>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { PostData } from '@/app/domain/posts/post';\r\nimport { fetchAPI } from './fetch-helper';\r\nimport { PAGE_SIZE } from '@/app/config/app-config';\r\nimport { StrapiResponse } from '@/app/domain/shared/strapi-response';\r\n\r\nexport const getAllPosts = async (\r\n  page = 1,\r\n): Promise<StrapiResponse<PostData>> => {\r\n  const urlParams = {\r\n    sort: ['createdAt:desc'],\r\n    populate: {\r\n      cover: {\r\n        fields: ['url', 'alternativeText', 'width', 'height'],\r\n      },\r\n      category: { populate: true },\r\n      author: true,\r\n    },\r\n    pagination: {\r\n      page: page,\r\n      pageSize: PAGE_SIZE,\r\n    },\r\n  };\r\n\r\n  const json = await fetchAPI('/posts', urlParams);\r\n\r\n  if (!json || !json.meta) {\r\n    return {\r\n      data: [],\r\n      meta: {\r\n        pagination: {\r\n          page: 1,\r\n          pageCount: 0,\r\n          pageSize: 10,\r\n          total: 0,\r\n        },\r\n      },\r\n    };\r\n  }\r\n\r\n  return json;\r\n};\r\n","import { getAllPosts } from './data/posts/get-all-posts';\r\nimport HomePage from './containers/HomePage';\r\n\r\nexport default async function Home() {\r\n  const { data: posts, meta } = await getAllPosts(1);\r\n\r\n  return (\r\n    <HomePage\r\n      posts={posts}\r\n      pagination={{\r\n        page: 1,\r\n        pageCount: meta.pagination.pageCount,\r\n        basePath: '',\r\n      }}\r\n    />\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[0]}