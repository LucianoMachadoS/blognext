{"version":3,"sources":["../../../../node_modules/%40swc/helpers/cjs/_interop_require_default.cjs","turbopack:///[project]/src/app/containers/HomePage/home.module.css [app-rsc] (css module)","turbopack:///[project]/src/app/components/PostCard/postCard.module.css [app-rsc] (css module)","turbopack:///[project]/src/app/components/Pagination/pagination.module.css [app-rsc] (css module)","../../../../src/app/containers/HomePage/index.tsx","../../../../src/app/components/PostCard/index.tsx","../../../../src/app/components/Pagination/index.tsx","../../../../src/app/data/posts/get-posts-by-category.ts","../../../../src/app/data/categories/get-all-categories.ts","../../../../src/app/category/%5Bname%5D/page/%5BpageNumberCategory%5D/page.tsx"],"sourcesContent":["\"use strict\";\n\nfunction _interop_require_default(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\nexports._ = _interop_require_default;\n","__turbopack_context__.v({\n  \"container\": \"home-module__ElHk5q__container\",\n  \"headingCategory\": \"home-module__ElHk5q__headingCategory\",\n});\n","__turbopack_context__.v({\n  \"PostCardHeading\": \"postCard-module__ykOlBa__PostCardHeading\",\n  \"postCard\": \"postCard-module__ykOlBa__postCard\",\n  \"postCardCover\": \"postCard-module__ykOlBa__postCardCover\",\n});\n","__turbopack_context__.v({\n  \"info\": \"pagination-module__TS_Q2G__info\",\n  \"pagination\": \"pagination-module__TS_Q2G__pagination\",\n});\n","import { PostData } from '@/app/domain/posts/post';\r\nimport styles from './home.module.css';\r\nimport Header from '../../components/Header';\r\nimport { MainContainer } from '@/app/components/MainContainer';\r\nimport { PostCard } from '@/app/components/PostCard';\r\nimport Footer from '@/app/components/Footer';\r\nimport { Heading } from '@/app/components/Heading';\r\nimport Pagination from '@/app/components/Pagination';\r\n\r\nexport type PaginationData = {\r\n  page: number;\r\n  pageCount: number;\r\n  basePath?: string;\r\n};\r\n\r\nexport type HomePageProps = {\r\n  posts: PostData[];\r\n  category?: string;\r\n  pagination?: PaginationData;\r\n};\r\n\r\nexport default function HomePage({\r\n  posts,\r\n  category,\r\n  pagination,\r\n}: HomePageProps) {\r\n  return (\r\n    <>\r\n      <Header />\r\n      {category && (\r\n        <Heading>\r\n          <div className={styles.headingCategory}>\r\n            Categoria: <span>{category}</span>\r\n          </div>\r\n        </Heading>\r\n      )}\r\n      <MainContainer>\r\n        <div className={styles.container}>\r\n          {posts.map((post: PostData) => (\r\n            <PostCard\r\n              key={post.slug}\r\n              cover={post.cover?.formats?.small?.url || post.cover.url}\r\n              slug={post.slug}\r\n              title={post.title}\r\n              width={post.cover?.formats?.small?.width || 500}\r\n            />\r\n          ))}\r\n        </div>\r\n        {pagination && (\r\n          <Pagination\r\n            page={pagination.page}\r\n            pageCount={pagination.pageCount}\r\n            basePath={pagination.basePath}\r\n          />\r\n        )}\r\n      </MainContainer>\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n","import Link from 'next/link';\r\nimport styles from './postCard.module.css';\r\nimport Image from 'next/image';\r\n\r\nexport type PostCardProps = {\r\n  slug: string;\r\n  title: string;\r\n  cover: string;\r\n  width: number;\r\n};\r\n\r\nexport const PostCard = ({ slug, title, cover, width }: PostCardProps) => {\r\n  return (\r\n    <div className={styles.postCard}>\r\n      <div className={styles.postCardCover}>\r\n        <Link href={`/post/${slug}`}>\r\n          <Image src={cover} alt={title} width={width} height={300} />\r\n        </Link>\r\n      </div>\r\n      <div className={styles.postCardHeading}>\r\n        <Link href={`/post/${slug}`}>{title}</Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import Link from 'next/link';\r\nimport styles from './pagination.module.css';\r\n\r\nexport type PaginationProps = {\r\n  page: number;\r\n  pageCount: number;\r\n  basePath?: string;\r\n};\r\n\r\nexport default function Pagination({\r\n  page,\r\n  pageCount,\r\n  basePath = '',\r\n}: PaginationProps) {\r\n  const hasNextPage = page < pageCount;\r\n  const hasPrevPage = page > 1;\r\n\r\n  const getPageLink = (pageNumber: number) => {\r\n    if (pageNumber === 1) {\r\n      return `${basePath}/`;\r\n    }\r\n    return `${basePath}/page/${pageNumber}`;\r\n  };\r\n\r\n  return (\r\n    <div className={styles.pagination}>\r\n      {hasPrevPage && (\r\n        <Link href={getPageLink(page - 1)} className={styles.buttonPrev}>\r\n          Anterior\r\n        </Link>\r\n      )}\r\n\r\n      <span className={styles.info}>\r\n        Página {page} de {pageCount}\r\n      </span>\r\n\r\n      {hasNextPage && (\r\n        <Link href={getPageLink(page + 1)} className={styles.buttonNext}>\r\n          Próxima\r\n        </Link>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { StrapiResponse } from '@/app/domain/shared/strapi-response';\r\nimport { fetchAPI } from './fetch-helper';\r\nimport { PAGE_SIZE } from '@/app/config/app-config';\r\nimport { PostData } from '@/app/domain/posts/post';\r\n\r\nexport const getPostsByCategory = async (\r\n  categoryName: string,\r\n  page = 1,\r\n): Promise<StrapiResponse<PostData>> => {\r\n  const urlParams = {\r\n    filters: {\r\n      category: {\r\n        name: {\r\n          $eq: categoryName,\r\n        },\r\n      },\r\n    },\r\n    sort: ['createdAt:desc'],\r\n    populate: {\r\n      cover: { fields: ['url', 'alternativeText', 'width', 'height'] },\r\n      category: { populate: true },\r\n      author: true,\r\n    },\r\n    pagination: {\r\n      page: page,\r\n      pageSize: PAGE_SIZE,\r\n    },\r\n  };\r\n\r\n  const json = await fetchAPI('/posts', urlParams);\r\n  return (\r\n    json || {\r\n      data: [],\r\n      meta: {\r\n        pagination: { page: 1, pageCount: 0, pageSize: PAGE_SIZE, total: 0 },\r\n      },\r\n    }\r\n  );\r\n};\r\n","import { fetchAPI } from '../posts/fetch-helper';\r\n\r\nexport type CategoryData = {\r\n  id: number;\r\n  documentId: string;\r\n  name: string;\r\n  slug: string; // Se tiver slug no strapi, use slug. Se não, use name.\r\n};\r\n\r\nexport const getAllCategories = async (): Promise<CategoryData[]> => {\r\n  const urlParams = {\r\n    fields: ['name', 'slug'],\r\n    pagination: {\r\n      pageSize: 100,\r\n    },\r\n  };\r\n\r\n  const json = await fetchAPI('/categories', urlParams);\r\n\r\n  return json.data || [];\r\n};\r\n","import { getPostsByCategory } from '@/app/data/posts/get-posts-by-category';\r\nimport HomePage from '@/app/containers/HomePage';\r\nimport { notFound } from 'next/navigation';\r\nimport { Metadata } from 'next';\r\nimport { getAllCategories } from '@/app/data/categories/get-all-categories';\r\n\r\ntype Props = {\r\n  params: Promise<{ name: string; pageNumberCategory: string }>;\r\n};\r\n\r\nconst capitalize = (s: string) => s.charAt(0).toUpperCase() + s.slice(1);\r\n\r\nexport async function generateMetadata({ params }: Props): Promise<Metadata> {\r\n  const resolvedParams = await params;\r\n  const categoryName = decodeURIComponent(resolvedParams.name);\r\n  const page = resolvedParams.pageNumberCategory;\r\n\r\n  return {\r\n    title: `${capitalize(categoryName)} - Página ${page}`,\r\n    description: `Página ${page} dos artigos sobre ${categoryName}.`,\r\n    robots: {\r\n      index: true,\r\n      follow: true,\r\n    },\r\n  };\r\n}\r\n\r\nexport async function generateStaticParams() {\r\n  const paths = [];\r\n  const categories = await getAllCategories();\r\n\r\n  for (const category of categories) {\r\n    const { meta } = await getPostsByCategory(category.name, 1);\r\n\r\n    const totalPages = meta.pagination.pageCount;\r\n\r\n    if (totalPages > 1) {\r\n      for (let i = 2; i <= totalPages; i++) {\r\n        paths.push({\r\n          name: category.name,\r\n          pageNumber: String(i),\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  return paths;\r\n}\r\n\r\nexport default async function CategoryPaginationPage(props: Props) {\r\n  const params = await props.params;\r\n  const categoryName = decodeURIComponent(params.name);\r\n  const page = Number(params.pageNumberCategory);\r\n\r\n  const { data: posts, meta } = await getPostsByCategory(categoryName, page);\r\n\r\n  if (!posts || posts.length === 0) {\r\n    notFound();\r\n  }\r\n\r\n  return (\r\n    <HomePage\r\n      posts={posts}\r\n      category={categoryName}\r\n      pagination={{\r\n        page: page,\r\n        pageCount: meta.pagination.pageCount,\r\n        basePath: `/category/${params.name}`,\r\n      }}\r\n    />\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[0]}